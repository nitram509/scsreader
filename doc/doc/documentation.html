<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.5" />
<title>SCS Reader - Documentation</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName == 'DIV'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName == 'DIV' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>SCS Reader - Documentation</h1>
<span id="author">Martin W. Kirst</span><br />
<span id="email"><tt>&lt;<a href="mailto:master_jaf@users.sourceforge.net">master_jaf@users.sourceforge.net</a>&gt;</tt></span><br />
<span id="revnumber">version 1.0,</span>
<span id="revdate">2011-06</span>
</div>
<div id="content">
<div class="sect1">
<h2 id="_abstract">Abstract</h2>
<div class="sectionbody">
<div class="paragraph"><p>SCS Reader is an OSGI compatible Java library which is able to read,
parse and transform SCS (SNA Character String) data streams.
The implementation also offers some converters to transform such
streams into Text, PDF, RTF or other formats. At the current state
it supports all features of the SCS 5256 printer standard.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_usage">Usage</h2>
<div class="sectionbody">
<div class="paragraph"><p>This project is designed to be an easy drop in replacement for
projects with existing PDF view or export functionality.
The implementation design was inspired by the
<a href="http://jcp.org/en/jsr/detail?id=173">Java&#8482; Streaming API for XML</a>
Thus it&#8217;s fast and very flexible. Additionally, one main
difference to any other implementation in this area is the fact,
that the SCS data streams pretty soon are converted
to Unicode and further processing
is all done in unicode. Therefore it&#8217;s worthwhile to use this
library in multilingual environments.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_example_text_printer">Example Text-Printer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.</span>File<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.</span>FileWriter<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>EndOfFileSignal<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>IPrinterMicroCommand<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>IScsDataProvider<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>ReaderConfig<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>SCSStreamReader<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>dataprovider<span style="color: #990000">.</span>As400ScsDataProviderFactory<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>virtualprinter<span style="color: #990000">.</span>PrinterConfig<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>virtualprinter<span style="color: #990000">.</span>TextPrinter<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>ibm<span style="color: #990000">.</span>as400<span style="color: #990000">.</span>access<span style="color: #990000">.</span>SpooledFile<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> ExampleTextPrinter <span style="color: #FF0000">{</span>

        <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[</span><span style="color: #990000">]</span> args<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">throws</span></span> Exception <span style="color: #FF0000">{</span>
                SpooledFile spooledFile <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">//</span></span><span style="font-style: italic"><span style="color: #9A1900"> TODO: provide your spool file!                                 <b>&lt;1&gt;</b></span></span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> IScsDataProvider dp <span style="color: #990000">=</span> As400ScsDataProviderFactory<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPrintObjectDataProvider</span></span><span style="color: #990000">(</span>spooledFile<span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> ReaderConfig rcfg <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ReaderConfig<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Builder</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span>
                                <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">collectPrintableChars</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">)</span>
                                <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ignoreUnknownControlCodes</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">)</span>
                                <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ignoreNulls</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">)</span>
                                <span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getConfig</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> SCSStreamReader reader <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SCSStreamReader</span></span><span style="color: #990000">(</span>dp<span style="color: #990000">,</span> rcfg<span style="color: #990000">)</span><span style="color: #990000">;</span>

                PrinterConfig pcfg <span style="color: #990000">=</span> PrinterConfig<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getDefault</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                TextPrinter printer <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TextPrinter</span></span><span style="color: #990000">(</span>pcfg<span style="color: #990000">)</span><span style="color: #990000">;</span>

                <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
                        <span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>reader<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hasNext</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> IPrinterMicroCommand event <span style="color: #990000">=</span> reader<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                                <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>event <span style="color: #990000">=</span><span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
                                printer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">runMicroCommand</span></span><span style="color: #990000">(</span>event<span style="color: #990000">)</span><span style="color: #990000">;</span>
                        <span style="color: #FF0000">}</span>
                <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span>EndOfFileSignal e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                        System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"eof."</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="color: #FF0000">}</span>

                printer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">finish</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>

                FileWriter fw <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FileWriter</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">File</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"test.txt"</span><span style="color: #990000">)</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                printer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">writeText</span></span><span style="color: #990000">(</span>fw<span style="color: #990000">)</span><span style="color: #990000">;</span>
                fw<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">close</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="colist arabic"><ol>
<li>
<p>
provide your spooled file here
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_example_pdf_printer">Example PDF-Printer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 2.1.2
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.</span>FileOutputStream<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>EndOfFileSignal<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>IPrinterMicroCommand<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>IScsDataProvider<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>ReaderConfig<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>SCSStreamReader<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>dataprovider<span style="color: #990000">.</span>As400ScsDataProviderFactory<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>virtualprinter<span style="color: #990000">.</span>PdfPrinter<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> net<span style="color: #990000">.</span>scs<span style="color: #990000">.</span>reader<span style="color: #990000">.</span>virtualprinter<span style="color: #990000">.</span>PrinterConfig<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>ibm<span style="color: #990000">.</span>as400<span style="color: #990000">.</span>access<span style="color: #990000">.</span>SpooledFile<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>lowagie<span style="color: #990000">.</span>text<span style="color: #990000">.</span>Document<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>lowagie<span style="color: #990000">.</span>text<span style="color: #990000">.</span>Font<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>lowagie<span style="color: #990000">.</span>text<span style="color: #990000">.</span>FontFactory<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>lowagie<span style="color: #990000">.</span>text<span style="color: #990000">.</span>PageSize<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>lowagie<span style="color: #990000">.</span>text<span style="color: #990000">.</span>Rectangle<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>lowagie<span style="color: #990000">.</span>text<span style="color: #990000">.</span>pdf<span style="color: #990000">.</span>BaseFont<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>lowagie<span style="color: #990000">.</span>text<span style="color: #990000">.</span>pdf<span style="color: #990000">.</span>PdfWriter<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> ExamplePdfPrinter <span style="color: #FF0000">{</span>

        <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[</span><span style="color: #990000">]</span> args<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">throws</span></span> Exception <span style="color: #FF0000">{</span>
                SpooledFile spooledFile <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">//</span></span><span style="font-style: italic"><span style="color: #9A1900"> TODO: provide your spool file!                                 <b>&lt;1&gt;</b></span></span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> IScsDataProvider dp <span style="color: #990000">=</span> As400ScsDataProviderFactory<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPrintObjectDataProvider</span></span><span style="color: #990000">(</span>spooledFile<span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> ReaderConfig rcfg <span style="color: #990000">=</span> ReaderConfig<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getDefault</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> SCSStreamReader reader <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SCSStreamReader</span></span><span style="color: #990000">(</span>dp<span style="color: #990000">,</span> rcfg<span style="color: #990000">)</span><span style="color: #990000">;</span>

                PrinterConfig pcfg <span style="color: #990000">=</span> PrinterConfig<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getDefault</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="color: #009900">float</span> FONT_SIZE <span style="color: #990000">=</span> <span style="color: #993399">9</span><span style="color: #990000">.</span>0F<span style="color: #990000">;</span>
                <span style="color: #009900">float</span> leading <span style="color: #990000">=</span> FONT_SIZE <span style="color: #990000">*</span> <span style="color: #993399">1</span><span style="color: #990000">.</span>05F<span style="color: #990000">;</span>

                <span style="font-style: italic"><span style="color: #9A1900">//</span></span><span style="font-style: italic"><span style="color: #9A1900"> calculate font, font size, and margins for the PDF</span></span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> Font monoSpacedFont <span style="color: #990000">=</span> FontFactory<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getFont</span></span><span style="color: #990000">(</span>BaseFont<span style="color: #990000">.</span>COURIER<span style="color: #990000">,</span> FONT_SIZE<span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> Font monoSpacedFontBold <span style="color: #990000">=</span> FontFactory<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getFont</span></span><span style="color: #990000">(</span>BaseFont<span style="color: #990000">.</span>COURIER_BOLD<span style="color: #990000">,</span> Font<span style="color: #990000">.</span>BOLD<span style="color: #990000">)</span><span style="color: #990000">;</span>
                Rectangle pageSize <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Rectangle</span></span><span style="color: #990000">(</span>PageSize<span style="color: #990000">.</span>A4<span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> Document pdfdoc <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Document</span></span><span style="color: #990000">(</span>pageSize<span style="color: #990000">)</span><span style="color: #990000">;</span>

                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> FileOutputStream fos <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FileOutputStream</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"test.pdf"</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> PdfWriter pdfwriter <span style="color: #990000">=</span> PdfWriter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getInstance</span></span><span style="color: #990000">(</span>pdfdoc<span style="color: #990000">,</span> fos<span style="color: #990000">)</span><span style="color: #990000">;</span>
                pdfdoc<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">open</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>

                PdfPrinter pdfprinter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PdfPrinter</span></span><span style="color: #990000">(</span>pcfg<span style="color: #990000">,</span> pdfdoc<span style="color: #990000">,</span> monoSpacedFont<span style="color: #990000">,</span> monoSpacedFontBold<span style="color: #990000">,</span> leading<span style="color: #990000">)</span><span style="color: #990000">;</span>

                <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
                        <span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>reader<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hasNext</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                                <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> IPrinterMicroCommand event <span style="color: #990000">=</span> reader<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                                <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>event <span style="color: #990000">=</span><span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
                                pdfprinter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">runMicroCommand</span></span><span style="color: #990000">(</span>event<span style="color: #990000">)</span><span style="color: #990000">;</span>
                        <span style="color: #FF0000">}</span>
                <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span>EndOfFileSignal e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
                        System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"eof."</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                <span style="color: #FF0000">}</span>

                pdfprinter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">finish</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                pdfdoc<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">close</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
                pdfwriter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">close</span></span><span style="color: #990000">(</span><span style="color: #990000">)</span><span style="color: #990000">;</span>
        <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="colist arabic"><ol>
<li>
<p>
provide your spooled file here
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_development">Development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_project_setup">Project Setup</h3>
<div class="paragraph"><p>SCS Reader was developed using Eclipse IDE.
Thus, the two plugins "net.scs.reader" and "unittest.net.scs.reader"
are independent Eclipse projects.</p></div>
</div>
<div class="sect2">
<h3 id="_requirements">Requirements</h3>
<div class="ulist"><ul>
<li>
<p>
Java v1.6+
</p>
</li>
<li>
<p>
GIT, recommended as Eclipse-Plugin and command line tool
</p>
</li>
<li>
<p>
Eclipse Helios (v3.6+)
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_dependencies">Dependencies</h3>
<div class="ulist"><ul>
<li>
<p>
JTOpen Framework v6.7+ (<a href="http://jt400.sourceforge.net/">http://jt400.sourceforge.net/</a>)
</p>
</li>
<li>
<p>
iText v2.1.7 (<a href="http://itextpdf.com/">http://itextpdf.com/</a>)
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">iText newer version 5.x is not yet supported</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_setup_required_libraries_within_eclipse">Setup required libraries within Eclipse</h3>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
You have to download the required libraries
</p>
</li>
<li>
<p>
Create a new java project called <tt>wrapper-req-libs</tt>
</p>
</li>
<li>
<p>
Create a new folder <tt>lib</tt> within project <tt>wrapper-req-libs</tt>
</p>
</li>
<li>
<p>
Copy <tt>iText.2.1.7.jar</tt> and <tt>jt400.jar</tt> into the <tt>lib</tt> folder
</p>
</li>
<li>
<p>
Go to properties of the wrapper project, go to <em>build path</em> and go to <em>order and export</em>
</p>
</li>
<li>
<p>
Check the two named libraries so that they get exported
</p>
</li>
<li>
<p>
Right-Click the wrapper project, click <em>Configure</em> and click <em>Convert to Plug-in projects</em>
</p>
</li>
</ol></div>
<div class="paragraph"><p>Once you&#8217;ve converted the requiered <em>JARs</em>
into a plugin project, your workspace should be error free and
you should be able to start hacking on this project.</p></div>
<div class="paragraph"><p></p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version 1.0<br />
Last updated 2011-06-12 15:04:39 Mitteleuropäische Sommerzeit
</div>
</div>
</body>
</html>
